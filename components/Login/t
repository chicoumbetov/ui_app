import { Input } from 'expo-ui-kit';

// import { Input, Button } from 'antd';
import { DataStore } from '@aws-amplify/datastore';
import { Button } from 'react-native';
import {
  // AdresseType,
  Client,
  // Compte,
} from '../src/models';

const initialState = {
  nom: '',
  prenom: '',
  email: '',
  motDePasse: '',
  numeroTel: '',
};





const [clientState, updateClientState] = useState(initialState);
  // const [clients, updateClients] = useState([]);
  useEffect(() => {
    const fetchClient = async () => {
      try {
        const clients = await DataStore.query(Client);
        console.log('Client retrieved successfully!', JSON.stringify(clients, null, 2));
      } catch (error) {
        console.log('Error retrieving client', error);
      }
    };
    fetchClient();
  }, []);

  const id = 'ab4f793c-da1f-49df-aee3-2f81fdd51b2d';

  const subscription = DataStore.observe(Client, id).subscribe((msg) => {
    console.log(msg.model, msg.opType, msg.element);
  });

  return (
    <Layout>
      <Input
        name="nom"
        placeholder="Nom de client"
        value={clientState.nom}
      />
      <Text>{clientState.nom}</Text>
      <Button title="nom" onPress={() => {}} />
      <Input
        name="prenom"
        placeholder="Prenom de client"
        value={clientState.prenom}
      />
      <Input
        name="email"
        placeholder="Email de client"
        value={clientState.email}
      />
      <Input
        name="motDePasse"
        placeholder="Mot de passe"
        value={clientState.motDePasse}
      />
      <Input
        name="numeroTel"
        placeholder="NumÃ©ro tel"
        value={clientState.numeroTel}
      />
    </Layout>
  );
